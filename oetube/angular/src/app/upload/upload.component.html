<div class="component-title">
  <h4>Upload your video</h4>
  <form (submit)="onSubmit($event)">
    <dx-form [formData]="uploadModel">
      <dxi-item dataField="name" [isRequired]="true" />
      <dxi-item dataField="description" [template]="'descriptionTemplate'" />
      <div *dxTemplate="let data of 'descriptionTemplate'">
        <dx-text-area [(value)]="data.component.option('formData')[data.dataField]"></dx-text-area>
      </div>
      <dxi-item dataField="access">
        <dxo-label text="Access"></dxo-label>
        <dx-radio-group
          [dataSource]="accessOptions"
          [(value)]="uploadModel.access"
          layout="horizontal"
          [itemTemplate]="'itemTemplate'"
        >
          <div *dxTemplate="let item of 'itemTemplate'" class="d-flex flex-row align-items-center">
            <span class="dx-button-text group-option-text">
              {{ accessTypeEnum[item] }}
            </span>
            <div *ngIf="item === accessTypeEnum.Group; else notGroup">
              <app-scroll-view-selector-popup
                [title]="'Edit Access Groups'"
                [(value)]="uploadModel.accessGroups"
                [icon]="'edit'"
                type="default"
                [text]="'edit'"
                [disabled]="uploadModel.access !== item"
              >
                <app-scroll-view-selector [isChildComponent]="true">
                  <app-group-explore [isChildComponent]="true"></app-group-explore>
                </app-scroll-view-selector>
              </app-scroll-view-selector-popup>
            </div>
          </div>
        </dx-radio-group>
        <dx-file-uploader
          dialogTrigger="#upload"
          #fileUploader
          uploadMode="useForm"
          [allowedFileExtensions]="['.mp4']"
          [accept]="'video/mp4'"
          multiple="false"
        ></dx-file-uploader>
      </dxi-item>
      <dxi-item
        itemType="button"
        [buttonOptions]="submitButtonOptions"
        onClick="onSubmit($event)"
      ></dxi-item>
    </dx-form>
  </form>

  <div class="mt-3">
    <dx-progress-bar [value]="progress" max="1"></dx-progress-bar>
    <p>
      <em> {{ log?.message }} </em>
    </p>
  </div>

  {{ modelToJson() }}
</div>
